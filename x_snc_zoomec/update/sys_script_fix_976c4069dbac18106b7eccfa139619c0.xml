<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_fix">
    <sys_script_fix action="INSERT_OR_UPDATE">
        <active>true</active>
        <before>false</before>
        <description/>
        <flush_cache>false</flush_cache>
        <name>Delete Me</name>
        <record_for_rollback>false</record_for_rollback>
        <run_once>true</run_once>
        <script><![CDATA[var cur = new GlideRecord('kb_knowledge');
cur.addQuery('sys_id','71185da5dbe058106b7eccfa13961942');
cur.query();
if(cur.next()){
	gs.info('rec ' + cur.number);
	var transcript = cur.text + '';
	var cleanScript = stripHTML(transcript).toString();
	var regex2 = /(.*(?:\r?.\n(?!\r?\n).*)*)(\s)(\d{2}:\d{2}:\d{2}[.,]\d{3})\s--\n(\s|)(\d{2}:\d{2}:\d{2}[.,]\d{3})(\s|)\n(.*[:]|)(\s|)(.*(?:\r?\n(?!\r?\n).*)*)\n/gm;
gs.info(cleanScript)
	//var arr = cleanScript.match(regex2);
	var mystr = cleanScript.replace(regex2, "$9")
	gs.info("MLT FIX SCRIPT" + mystr)
	//
	
	
}


function stripHTML(str) {

		// Regex to get HTML tags and Brackets
		var regex = /(\<[^>]+?\>)|(\&[^;]{2,6}\;)|(\{[^}]+?\})|(\[[^\]]+\])/gm;
		// If the regex comes back as true
		var theMessage = str.toString().replace(regex, '\n');
		return theMessage;
	}]]></script>
        <sys_class_name>sys_script_fix</sys_class_name>
        <sys_created_by>steele</sys_created_by>
        <sys_created_on>2020-05-02 20:29:37</sys_created_on>
        <sys_id>976c4069dbac18106b7eccfa139619c0</sys_id>
        <sys_mod_count>54</sys_mod_count>
        <sys_name>Delete Me</sys_name>
        <sys_package display_value="ZoomEC" source="x_snc_zoomec">8255ef051b689410a51210a61a4bcbff</sys_package>
        <sys_policy/>
        <sys_scope display_value="ZoomEC">8255ef051b689410a51210a61a4bcbff</sys_scope>
        <sys_update_name>sys_script_fix_976c4069dbac18106b7eccfa139619c0</sys_update_name>
        <sys_updated_by>matt</sys_updated_by>
        <sys_updated_on>2020-05-03 02:59:56</sys_updated_on>
        <unloadable>false</unloadable>
    </sys_script_fix>
</record_update>
